<header></header>
<div class="col-xs-12 background_white">
    <!--查询条件-->
    <div class="col-xs-12" style="margin: 10px 0 0 0;">
        <div class="row col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                投保人姓名
            </div>
            <div class="col-xs-8">
                <input class="form-control input-sm"
                       ng-model="searchKeywords.name"
                       placeholder="请输投保人姓名"
                       ng-change="getSearchOrders(1)"
                       type="text"/>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                投保人证件号
            </div>
            <div class="col-xs-8">
                <input class="form-control input-sm"
                       ng-model="searchKeywords.certificate_number "
                       placeholder="请输 入投保人证件号"/>
            </div>
        </div>

    </div>
    <div class="col-xs-12" style="margin: 5px 0 0 0;">
        <div class="row col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                销售人姓名
            </div>
            <div class="col-xs-8">
                <input type="text"
                       placeholder="请输入销售人姓名"
                       ng-model="searchKeywords.agentName" class="form-control input-sm"/>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                投保人电话
            </div>
            <div class="col-xs-8">
                <input type="text"
                       placeholder="投保人联系方式"
                       ng-model="searchKeywords.phone_number" class="form-control input-sm"/>
            </div>
        </div>
    </div>
    <div class="col-xs-12" style="margin: 5px 0 0 0;">
        <div class="row col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                订单状态
            </div>
            <div class="col-xs-8">
                <select ng-model="searchKeywords.payState" id="" class="form-control input-sm">
                    <option value="">全部</option>
                    <option value="1">已支付 已承保</option>
                    <option value="2">已支付 未承保</option>
                    <option value="3">未支付 未承保</option>
                    <option value="4">退保成功</option>
                </select>
            </div>
        </div>
        <div class="row col-xs-6">
            <div class="col-xs-3 text-center" style="padding-top: 6px;margin-left: 1%">
                燃气编号
            </div>
            <div class="col-xs-8">
                <input type="text" style="margin-left: -11%"
                       placeholder="请输入燃气编号"
                       ng-model="searchKeywords.gas_user_id"
                       class="form-control input-sm"/>
            </div>
        </div>
    </div>
    <div class="col-xs-12" style="margin: 5px 0 0 0;">
        <div class="row col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                投保地址
            </div>
            <div class="col-xs-8">
                <input type="text"
                       placeholder="请输入投保地址"
                       ng-change="getSearchOrders()"
                       ng-model="searchKeywords.address" class="form-control input-sm"/>
            </div>
        </div>
        <div class="row col-xs-6">
            <div class="col-xs-3 text-center" style="padding-top: 6px;margin-left: 1%">
                保险产品
            </div>
            <div class="col-xs-8">
                <input type="text" style="margin-left: -11%"
                       placeholder="请输入保险产品"
                       ng-change="getSearchOrders()"
                       ng-model="searchKeywords.product_name"
                       class="form-control input-sm"/>
            </div>
        </div>
    </div>
    <div class="col-xs-12" style="margin: 5px 0 0 0;">
        <div class="row col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px;">
                保险起期
            </div>
            <div class="col-xs-8">
                <div class="col-xs-5" style="padding-left: 0">
                    <input id="effective_date_state"
                           placeholder="请选择"
                           ng-model="searchKeywords.effective_date_state"
                           ng-click="setYearDate('effective_date_state')"
                           class="form-control input-sm"
                           style="cursor:pointer"
                           readonly/></div>
                <div class="col-xs-2" style="padding-left: 0;width: 10%;line-height: 29px">至</div>
                <div class="col-xs-5" style="padding-left: 0">
                    <input id="effective_date_end"
                           placeholder="请选择"
                           ng-model="searchKeywords.effective_date_end"
                           ng-click="setYearDate('effective_date_end')"
                           class="form-control input-sm"
                           style="cursor:pointer"
                           readonly/></div>
            </div>
        </div>
        <div class="row col-xs-6">
            <div class="col-xs-3 text-center" style="padding-top: 6px;margin-left: 1%">
                保险止期
            </div>
            <div class="col-xs-8 margin_left2" style="margin-left: -7%">
                <div class="col-xs-5" style="padding-left: 0">
                    <input id="expiry_date_state"
                           placeholder="请选择"
                           ng-model="searchKeywords.expiry_date_state"
                           ng-click="setYearDate('expiry_date_state')"
                           class="form-control input-sm"
                           style="cursor:pointer"
                           readonly/></div>
                <div class="col-xs-2" style="padding-left: 0;width: 10%;line-height: 29px">至</div>
                <div class="col-xs-5" style="padding-left: 0">
                    <input id="expiry_date_end"
                           placeholder="请选择"
                           ng-model="searchKeywords.expiry_date_end"
                           ng-click="setYearDate('expiry_date_end')"
                           class="form-control input-sm"
                           style="cursor:pointer"
                           readonly/></div>
            </div>
        </div>
    </div>
    <div class="col-xs-12" style="margin: 5px 0 0 0;">
        <div class="row col-xs-6">
            <div class="col-xs-2 text-right" style="padding-top: 6px">
                录单时间
            </div>
            <div class="col-xs-8">
                <div class="col-xs-5" style="padding-left: 0">
                    <input id="create_date_state"
                           placeholder="请选择"
                           ng-model="searchKeywords.create_date_state"
                           ng-click="setYearDate('create_date_state')"
                           class="form-control input-sm"
                           style="cursor:pointer"
                           readonly/></div>
                <div class="col-xs-2" style="padding-left: 0;width: 10%;line-height: 29px">至</div>
                <div class="col-xs-5" style="padding-left: 0">
                    <input id="create_date_end"
                           placeholder="请选择"
                           ng-model="searchKeywords.create_date_end"
                           ng-click="setYearDate('create_date_end')"
                           class="form-control input-sm"
                           style="cursor:pointer"
                           readonly/></div>
            </div>
        </div>

    </div>

    <div class="col-xs-12 text-center" style="margin:15px;padding-left: 0">
        <button id="search2" type="button" class="btn btn-default" ng-click="goSearchEmpty()"
                style="width: 100px;">重置
        </button>
        <button id="search1" type="button" class="btn btn-default" ng-click="getSearchOrders(1)"
                style="width: 100px;">查询
        </button>
    </div>
    <div ng-if="historyOrders.length">
<div ng-if="pagination.totalItems">
        <div style="text-align: right;padding-right: 4%">
            总条数：{{pagination.totalItems}}
            总金额：{{money}}
        </div>
    <!--表格内容-->
    <table class="table operateTable table-bordered table_center"
           style="width: 94%;table-layout:fixed;margin-left: 3%;margin-top: 2px">
        <tr>
            <th class="neptune_table_th" style="width: 13%">订单号</th>
            <th class="neptune_table_th" style="width: 7%">投保人</th>
            <th class="neptune_table_th" >保险产品</th>
            <th class="neptune_table_th" style="width: 8%">录单时间</th>
            <th class="neptune_table_th" style="width: 14%">保险期间</th>
            <th class="neptune_table_th" style="width: 17%">投保地址</th>
            <th class="neptune_table_th" style="width: 7%">销售人</th>
            <th class="neptune_table_th" style="width: 12%">状态</th>
            <th class="neptune_table_th" ng-if="operation" style="width: 7%">操作</th>
        </tr>
        <tr ng-repeat="historyOrder in historyOrders | orderBy: 'createDate' :sorts">
            <td class="neptune_orders_show">
                    <span ng-click="openOrderDetails(historyOrder.order_id,'保单')" style="color:blue;cursor: pointer;">
                        {{historyOrder.order_id}}
                    </span>
            </td>
            <td class="neptune_orders_show">{{historyOrder.name}}</td>
            <td class="neptune_orders_show">{{historyOrder.product_name}}</td>
            <td class="neptune_orders_show">{{historyOrder.create_date}}</td>
            <td class="neptune_orders_show">
                {{historyOrder.effective_date}} - {{historyOrder.expiry_date}}
            </td>
            <td class="neptune_orders_show">{{historyOrder.address}}</td>
            <td>{{historyOrder.agentName}}</td>
            <td class="neptune_orders_show">
                {{historyOrder.pay_status}}
                {{historyOrder.app_status}}
                {{historyOrder.Isrefund}}
            </td>
            <td class="hand font_color_black1" ng-if="operation">
                <span ng-if="historyOrder.pay_status == '已支付' && historyOrder.app_status =='已承保' || historyOrder.app_status =='退保失败' "
                      ng-click="goSearchRenewalBuy(historyOrder.product_id,historyOrder.order_id)">续保</span>
            </td>
        </tr>
    </table>
    <div class="col-xs-12" >
        <!--<button class="btn neptune_basic_button" style="margin-right: 4%;color: #FFFFFF" ng-click="toExport()">导出</button>-->
    </div>
</div>
    <div ng-if="pagination.totalItems || historyOrders.length" class="col-xs-12 row text-center background_white" style="margin-left: 0">
        <pagination
                ng-model="pagination.pageIndex"
                total-items="pagination.totalItems"
                page="pagination.pageIndex"
                items-per-page="pagination.pageSize"
                max-size="pagination.maxSize"
                previous-text="{{pagination.previousText}}"
                next-text="{{pagination.nextText}}"
                first-text="{{pagination.firstText}}"
                last-text="{{pagination.lastText}}"
                class="pagination-small"
                boundary-links="true"
                ng-click="getSearchOrders()">
        </pagination>
    </div>
</div>
</div>

<div ng-if="!historyOrders.length" class="text-center" style="font-size: 30px;margin-top: 20%">
    请输入查询条件进行查询
</div>
